define("model/model",[],function(){function n(n){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,n()},0))}}function t(n){return!n.some(function(n){return"undefined"==typeof n||null===n})}return function(){function e(n,t){"string"==typeof n?r(n,t):o(n)}function o(n){Object.keys(n).forEach(function(t){r(t,n[t])})}function r(n,t){m[n]=t,h[n]&&h[n].forEach(function(n){n()})}function u(n){return m[n]}function c(){var e=[];return function o(r,c,i){r instanceof Array||(r=[r]);var s=n(function(){var n=r.map(u);t(n)&&f(c,i,n,r)});return s(),r.forEach(function(n){a(n,s),e.push({property:n,fn:s})}),{when:o,callbacks:e}}}function f(n,t,e,o){var u,c;l&&(u=r,c={},r=function(n,t){c[n]=!0,u(n,t)}),n.apply(t,e),l&&(r=u,l(o,Object.keys(c)))}function i(n){n.callbacks.forEach(function(n){s(n.property,n.fn)})}function a(n,t){h[n]||(h[n]=[]),h[n].push(t)}function s(n,t){h[n]=h[n].filter(function(n){return n!==t})}function p(n){function t(n){return e[n]||(e[n]={type:"property",name:n})}var e={},o=[];l=function(n,r){var u=n.join(",")+"|"+r.join(","),c=e[u];!c&&r.length>0&&(c=e[u]={type:"lambda"},n.forEach(function(n){o.push({source:t(n),target:c})}),r.forEach(function(n){o.push({source:c,target:t(n)})}))},setTimeout(function(){n({nodes:Object.keys(e).map(function(n,t){var o=e[n];return o.index=t,o}),links:o.map(function(n){return{source:n.source.index,target:n.target.index}})})},500)}var l,d={set:e,get:u,when:function(n,t,e){return c()(n,t,e)},cancel:i,detectFlowGraph:p},h={},m={};return d}}),define("model",["model/model"],function(n){return n});